import socket

def start_server():
    # Criar um socket de servidor
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    
    # Definir o endereço e a porta do servidor
    server.bind(('localhost', 12345))  # Pode alterar a porta conforme necessário
    server.listen(1)  # Espera por uma conexão

    print("Servidor TTS aguardando conexão...")

    # Aceitar uma conexão do cliente
    client_socket, client_address = server.accept()
    print(f"Conexão estabelecida com {client_address}")

    try:
        while True:
            # Receber dados do cliente
            data = client_socket.recv(1024).decode()
            if data:
                # Aqui, você pode realizar qualquer processamento necessário
                # Exemplo simples: imprimir a saída recebida
                print(f"Texto recebido: {data}")
                # Aqui você pode adicionar qualquer função de TTS (como pyttsx3 ou Google TTS)
                # Por exemplo, gerar saída de áudio (para testes, podemos apenas imprimir)
                # se desejar transformar o texto em fala, pode usar um TTS, por exemplo, pyttsx3 ou Google TTS.
            else:
                break
    except Exception as e:
        print(f"Erro ao processar dados: {e}")
    finally:
        # Fechar a conexão
        client_socket.close()
        server.close()
        print("Conexão encerrada.")

# Iniciar o servidor
start_server()

